<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>StaffManager ê²°ì œ</title>
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:-apple-system,BlinkMacSystemFont,'Noto Sans KR',sans-serif;background:#f8f9fa;padding:2rem;min-height:100vh;display:flex;align-items:center;justify-content:center}
.container{max-width:520px;width:100%;background:white;border-radius:20px;padding:3rem;box-shadow:0 10px 40px rgba(0,0,0,.1)}
h1{text-align:center;background:linear-gradient(135deg,#667eea,#764ba2);-webkit-background-clip:text;-webkit-text-fill-color:transparent;margin-bottom:2rem;font-size:1.8rem}
.plan-badge{display:inline-block;background:linear-gradient(135deg,#667eea,#764ba2);color:white;padding:.3rem 1rem;border-radius:20px;font-size:.85rem;font-weight:600;margin-bottom:.5rem}
.plan-badge.business{background:linear-gradient(135deg,#f093fb,#f5576c)}
.plan-info{background:#f0f4ff;border:2px solid #667eea;padding:1.5rem 2rem;border-radius:12px;margin-bottom:2rem}
.plan-info.business{background:#fff0f8;border-color:#f5576c}
.plan-name{font-size:1.4rem;font-weight:bold;color:#333;margin-bottom:.3rem}
.plan-price{font-size:1.8rem;font-weight:bold;color:#667eea;margin-bottom:.2rem}
.plan-price.business{color:#f5576c}
.plan-price span{font-size:1rem;color:#888;font-weight:normal}
.plan-annual{font-size:.82rem;color:#2ecc71;margin-bottom:.3rem}
.plan-target{font-size:.85rem;color:#888;margin-bottom:1rem}
.plan-features{list-style:none}
.plan-features li{padding:.3rem 0;color:#555;font-size:.9rem}
.plan-features li::before{content:"âœ… "}
.form-group{margin-bottom:1.2rem}
label{display:block;margin-bottom:.4rem;font-weight:600;color:#333;font-size:.9rem}
.optional{font-weight:400;color:#999;font-size:.8rem;margin-left:4px}
input{width:100%;padding:.9rem 1rem;border:2px solid #e0e0e0;border-radius:8px;font-size:1rem;transition:border-color .3s}
input:focus{outline:none;border-color:#667eea}
input.error{border-color:#e74c3c}
.error-msg{color:#e74c3c;font-size:.82rem;margin-top:.3rem;display:none}
.notice{background:#fff8e1;border-left:4px solid #ffc107;padding:1rem;margin:1.5rem 0;border-radius:0 8px 8px 0;font-size:.85rem;color:#555;line-height:1.6}
.submit-button{width:100%;padding:1.1rem;background:linear-gradient(135deg,#667eea,#764ba2);color:white;border:none;border-radius:10px;font-size:1.05rem;font-weight:600;cursor:pointer;margin-top:.5rem;transition:transform .2s,box-shadow .2s}
.submit-button.business{background:linear-gradient(135deg,#f093fb,#f5576c)}
.submit-button:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 20px rgba(102,126,234,.4)}
.submit-button:disabled{opacity:.6;cursor:not-allowed;transform:none}
.secure-badge{text-align:center;margin-top:1rem;font-size:.8rem;color:#888}
</style>
</head>
<body>
<div class="container">
<h1>StaffManager êµ¬ë…</h1>
<div class="plan-info" id="planInfo">
<div class="plan-badge" id="planBadge"></div>
<div class="plan-name" id="planName"></div>
<div class="plan-price" id="planPrice"></div>
<div class="plan-annual" id="planAnnual"></div>
<div class="plan-target" id="planTarget"></div>
<ul class="plan-features" id="planFeatures"></ul>
</div>
<form id="billingForm" onsubmit="return false;">
<div class="form-group">
<label for="customerName">ì´ë¦„ *</label>
<input type="text" id="customerName" placeholder="í™ê¸¸ë™" autocomplete="name">
<div class="error-msg" id="nameError">ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.</div>
</div>
<div class="form-group">
<label for="customerEmail">ì´ë©”ì¼ <span class="optional">(ì„ íƒ)</span></label>
<input type="email" id="customerEmail" placeholder="example@company.com" autocomplete="email">
</div>
<div class="notice">ê²°ì œëŠ” í† ìŠ¤í˜ì´ë¨¼ì¸ ë¥¼ í†µí•´ ì•ˆì „í•˜ê²Œ ì²˜ë¦¬ë©ë‹ˆë‹¤. ì›” ë‹¨ìœ„ë¡œ ìë™ ê°±ì‹ ë˜ë©°, ì–¸ì œë“  ì·¨ì†Œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</div>
<button type="button" class="submit-button" id="submitButton" onclick="handlePayment()">ì¹´ë“œ ë“±ë¡í•˜ê³  êµ¬ë… ì‹œì‘í•˜ê¸° ğŸš€</button>
</form>
<div class="secure-badge">ğŸ”’ í† ìŠ¤í˜ì´ë¨¼ì¸ ë¥¼ í†µí•´ ì•ˆì „í•˜ê²Œ ê²°ì œë©ë‹ˆë‹¤</div>
</div>
<script>
var urlParams=new URLSearchParams(window.location.search);
var selectedPlan=urlParams.get('plan')||'pro';
var plans={
pro:{name:'Pro í”Œëœ',badge:'Pro',priceText:'19,900ì›',annual:'ì—°ê°„ ê²°ì œ ì‹œ ì›” 15,900ì›',target:'5~20ì¸ ì‚¬ì—…ì¥ Â· ëŒ€ë¶€ë¶„ì˜ ì†Œìƒê³µì¸',features:['Free ê¸°ëŠ¥ ì „ì²´ í¬í•¨','ì‚¬ì—…ì¥ 3ê°œ','ì¹´ì¹´ì˜¤í†¡ ì•Œë¦¼ 300ê±´/ì›”','ì „ì ê·¼ë¡œê³„ì•½ 15ê±´/ì›”','AI ë…¸ë¬´ ìƒë‹´ 50ê±´/ì›”','Excel ë‚´ë³´ë‚´ê¸°','ì§€ì›ê¸ˆ ì‹ ì²­ ê°€ì´ë“œ','ê´€ë¦¬ì 2ëª…','ìš°ì„  ì§€ì›']},
business:{name:'Business í”Œëœ',badge:'Business',priceText:'49,900ì›',annual:'ì—°ê°„ ê²°ì œ ì‹œ ì›” 39,900ì›',target:'20~100ì¸ Â· ë‹¤ì í¬ Â· í”„ëœì°¨ì´ì¦ˆ',features:['Pro ê¸°ëŠ¥ ì „ì²´ í¬í•¨','ì‚¬ì—…ì¥ ë¬´ì œí•œ','ì¹´ì¹´ì˜¤í†¡ ë¬´ì œí•œ','ì „ìê³„ì•½ ë¬´ì œí•œ','AI ìƒë‹´ ë¬´ì œí•œ','ê´€ë¦¬ì ë¬´ì œí•œ','ì§€ì›ê¸ˆ ì‹ ì²­ ëŒ€í–‰','ì „ë‹´ ë§¤ë‹ˆì €','SLA 99.5%']}
};
var plan=plans[selectedPlan]||plans.pro;
document.getElementById('planBadge').textContent=plan.badge;
document.getElementById('planName').textContent=plan.name;
document.getElementById('planPrice').innerHTML=plan.priceText+'<span> / ì›”</span>';
document.getElementById('planAnnual').textContent=plan.annual;
document.getElementById('planTarget').textContent=plan.target;
document.getElementById('planFeatures').innerHTML=plan.features.map(function(f){return'<li>'+f+'</li>';}).join('');
document.getElementById('submitButton').textContent='ì›” '+plan.priceText+' ì¹´ë“œ ë“±ë¡í•˜ê¸° ğŸš€';
if(selectedPlan===\'business\'){
[\'planInfo\',\'planBadge\',\'planPrice\',\'submitButton\'].forEach(function(id){document.getElementById(id).classList.add(\'business\');});
}

function loadTossSDK(){
return new Promise(function(resolve,reject){
if(window.TossPayments){resolve();return;}
var s=document.createElement('script');
s.src='https://js.tosspayments.com/v1/payment';
s.onload=function(){window.TossPayments?resolve():reject(new Error('TossPayments ì „ì—­ í•¨ìˆ˜ ì—†ìŒ'));};
s.onerror=function(){reject(new Error('í† ìŠ¤ SDK ìŠ¤í¬ë¦½íŠ¸ ë¡œë“œ ì‹¤íŒ¨ - ë„¤íŠ¸ì›Œí¬ í™•ì¸'));};
document.head.appendChild(s);
});
}

async function handlePayment(){
var nameInput=document.getElementById('customerName');
var nameError=document.getElementById('nameError');
var customerName=nameInput.value.trim();
if(!customerName){
nameInput.classList.add('error');
nameError.style.display='block';
nameInput.focus();
return;
}
nameInput.classList.remove('error');
nameError.style.display='none';

var customerEmail=document.getElementById('customerEmail').value.trim();
var emailForKey=customerEmail||(customerName.replace(/\s+/g,'')+'@staffmanager.io');
var btn=document.getElementById('submitButton');
btn.disabled=true;
btn.textContent='ê²°ì œ ëª¨ë“ˆ ë¡œë”© ì¤‘...';

try{
await loadTossSDK();
var tp=window.TossPayments('test_ck_Z61JOxRQVEBzXa0b2m7grW0X9bAq');
if(!tp||!tp.requestBillingAuth) throw new Error('requestBillingAuth ì—†ìŒ - SDK ë²„ì „ì„ í™•ì¸í•˜ì„¸ìš”');
btn.textContent='ê²°ì œ í™”ë©´ìœ¼ë¡œ ì´ë™ ì¤‘...';
var customerKey='cust_'+btoa(unescape(encodeURIComponent(emailForKey))).replace(/[^a-zA-Z0-9]/g,'').substring(0,20);
var base=window.location.origin;
await tp.requestBillingAuth('ì¹´ë“œ',{
customerKey:customerKey,
customerName:customerName,
customerEmail:emailForKey,
successUrl:base+'/billing-success.html?plan='+selectedPlan+'&customerKey='+encodeURIComponent(customerKey)+'&customerName='+encodeURIComponent(customerName)+'&customerEmail='+encodeURIComponent(emailForKey),
failUrl:base+'/billing-fail.html?plan='+selectedPlan
});
}catch(err){
console.error('ê²°ì œ ì˜¤ë¥˜ ìƒì„¸:',err);
if(err.code!=='USER_CANCEL') alert('ì˜¤ë¥˜: '+(err.message||'ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜'));
btn.disabled=false;
btn.textContent='ì›” '+plan.priceText+' ì¹´ë“œ ë“±ë¡í•˜ê¸° ğŸš€';
}
}

document.getElementById('customerName').addEventListener('keydown',function(e){if(e.key===\'Enter\')handlePayment();});
document.getElementById('customerEmail').addEventListener('keydown',function(e){if(e.key===\'Enter\')handlePayment();});
</script>
</body>
</html>