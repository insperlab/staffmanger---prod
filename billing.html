<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>StaffManager ê²°ì œ</title>
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:-apple-system,BlinkMacSystemFont,sans-serif;background:#f8f9fa;padding:2rem;min-height:100vh;display:flex;align-items:center;justify-content:center}
.container{max-width:520px;width:100%;background:white;border-radius:20px;padding:3rem;box-shadow:0 10px 40px rgba(0,0,0,.1)}
h1{text-align:center;background:linear-gradient(135deg,#667eea,#764ba2);-webkit-background-clip:text;-webkit-text-fill-color:transparent;margin-bottom:2rem;font-size:1.8rem}
.plan-badge{display:inline-block;background:linear-gradient(135deg,#667eea,#764ba2);color:white;padding:.3rem 1rem;border-radius:20px;font-size:.85rem;font-weight:600;margin-bottom:.5rem}
.plan-badge.biz{background:linear-gradient(135deg,#f093fb,#f5576c)}
.plan-info{background:#f0f4ff;border:2px solid #667eea;padding:1.5rem 2rem;border-radius:12px;margin-bottom:2rem}
.plan-info.biz{background:#fff0f8;border-color:#f5576c}
.plan-name{font-size:1.4rem;font-weight:bold;color:#333;margin-bottom:.3rem}
.plan-price{font-size:1.8rem;font-weight:bold;color:#667eea;margin-bottom:.2rem}
.plan-price.biz{color:#f5576c}
.plan-price span{font-size:1rem;color:#888;font-weight:normal}
.plan-annual{font-size:.82rem;color:#2ecc71;margin-bottom:.3rem}
.plan-target{font-size:.85rem;color:#888;margin-bottom:1rem}
.plan-features{list-style:none}
.plan-features li{padding:.3rem 0;color:#555;font-size:.9rem}
.plan-features li::before{content:"âœ… "}
.form-group{margin-bottom:1.2rem}
label{display:block;margin-bottom:.4rem;font-weight:600;color:#333;font-size:.9rem}
.opt{font-weight:400;color:#999;font-size:.8rem;margin-left:4px}
input{width:100%;padding:.9rem 1rem;border:2px solid #e0e0e0;border-radius:8px;font-size:1rem;transition:border-color .3s}
input:focus{outline:none;border-color:#667eea}
input.err{border-color:#e74c3c}
.errmsg{color:#e74c3c;font-size:.82rem;margin-top:.3rem;display:none}
.notice{background:#fff8e1;border-left:4px solid #ffc107;padding:1rem;margin:1.5rem 0;border-radius:0 8px 8px 0;font-size:.85rem;color:#555;line-height:1.6}
.btn{width:100%;padding:1.1rem;background:linear-gradient(135deg,#667eea,#764ba2);color:white;border:none;border-radius:10px;font-size:1.05rem;font-weight:600;cursor:pointer;margin-top:.5rem;transition:transform .2s,box-shadow .2s}
.btn.biz{background:linear-gradient(135deg,#f093fb,#f5576c)}
.btn:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 20px rgba(102,126,234,.4)}
.btn:disabled{opacity:.6;cursor:not-allowed;transform:none}
.foot{text-align:center;margin-top:1rem;font-size:.8rem;color:#888}
</style>
</head>
<body>
<div class="container">
<h1>StaffManager êµ¬ë…</h1>
<div class="plan-info" id="pi">
<div class="plan-badge" id="pb"></div>
<div class="plan-name" id="pn"></div>
<div class="plan-price" id="pp"></div>
<div class="plan-annual" id="pa"></div>
<div class="plan-target" id="pt"></div>
<ul class="plan-features" id="pf"></ul>
</div>
<form onsubmit="return false;">
<div class="form-group">
<label for="nm">ì´ë¦„ *</label>
<input type="text" id="nm" placeholder="í™ê¸¸ë™" autocomplete="name">
<div class="errmsg" id="nmerr">ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.</div>
</div>
<div class="form-group">
<label for="em">ì´ë©”ì¼ <span class="opt">(ì„ íƒ)</span></label>
<input type="email" id="em" placeholder="example@company.com" autocomplete="email">
</div>
<div class="notice">ê²°ì œëŠ” í† ìŠ¤í˜ì´ë¨¼ì¸ ë¥¼ í†µí•´ ì•ˆì „í•˜ê²Œ ì²˜ë¦¬ë©ë‹ˆë‹¤.<br>ì›” ë‹¨ìœ„ ìë™ ê°±ì‹ ì´ë©°, ì–¸ì œë“  ì·¨ì†Œ ê°€ëŠ¥í•©ë‹ˆë‹¤.</div>
<button type="button" class="btn" id="sb" onclick="go()">ì¹´ë“œ ë“±ë¡í•˜ê³  êµ¬ë… ì‹œì‘í•˜ê¸°</button>
</form>
<div class="foot">ğŸ”’ í† ìŠ¤í˜ì´ë¨¼ì¸ ë¥¼ í†µí•´ ì•ˆì „í•˜ê²Œ ê²°ì œë©ë‹ˆë‹¤</div>
</div>
<script>
// â”€â”€ í”Œëœ ë°ì´í„° â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
var Q = new URLSearchParams(window.location.search);
var SP = Q.get("plan") || "pro";
var DATA = {
  pro: {
    name: "Pro í”Œëœ", badge: "Pro", pt: "19,900ì›",
    ann: "ì—°ê°„ ê²°ì œ ì‹œ ì›” 15,900ì› (20% ì ˆì•½)",
    tgt: "5~20ì¸ ì‚¬ì—…ì¥ Â· ëŒ€ë¶€ë¶„ì˜ ì†Œìƒê³µì¸",
    fs: ["Free ê¸°ëŠ¥ ì „ì²´ í¬í•¨","ì‚¬ì—…ì¥ 3ê°œ","ì¹´ì¹´ì˜¤í†¡ ì•Œë¦¼ 300ê±´/ì›”",
         "ì „ì ê·¼ë¡œê³„ì•½ 15ê±´/ì›”","AI ë…¸ë¬´ ìƒë‹´ 50ê±´/ì›”","Excel ë‚´ë³´ë‚´ê¸°",
         "ì§€ì›ê¸ˆ ì‹ ì²­ ê°€ì´ë“œ","ê´€ë¦¬ì 2ëª…","ìš°ì„  ì§€ì›"]
  },
  business: {
    name: "Business í”Œëœ", badge: "Business", pt: "49,900ì›",
    ann: "ì—°ê°„ ê²°ì œ ì‹œ ì›” 39,900ì› (20% ì ˆì•½)",
    tgt: "20~100ì¸ Â· ë‹¤ì í¬ Â· í”„ëœì°¨ì´ì¦ˆ",
    fs: ["Pro ê¸°ëŠ¥ ì „ì²´ í¬í•¨","ì‚¬ì—…ì¥ ë¬´ì œí•œ","ì¹´ì¹´ì˜¤í†¡ ë¬´ì œí•œ",
         "ì „ìê³„ì•½ ë¬´ì œí•œ","AI ìƒë‹´ ë¬´ì œí•œ","ê´€ë¦¬ì ë¬´ì œí•œ",
         "ì§€ì›ê¸ˆ ì‹ ì²­ ëŒ€í–‰","ì „ë‹´ ë§¤ë‹ˆì €","SLA 99.5%"]
  }
};
var d = DATA[SP] || DATA["pro"];

// â”€â”€ í”Œëœ ë Œë”ë§ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
document.getElementById("pb").textContent = d.badge;
document.getElementById("pn").textContent = d.name;
document.getElementById("pp").innerHTML = d.pt + "<span> / ì›”</span>";
document.getElementById("pa").textContent = d.ann;
document.getElementById("pt").textContent = d.tgt;
document.getElementById("pf").innerHTML = d.fs.map(function(f) {
  return "<li>" + f + "</li>";
}).join("");
document.getElementById("sb").textContent = "ì›” " + d.pt + " ì¹´ë“œ ë“±ë¡í•˜ê¸° ğŸš€";
if (SP === "business") {
  document.getElementById("pi").classList.add("biz");
  document.getElementById("pb").classList.add("biz");
  document.getElementById("pp").classList.add("biz");
  document.getElementById("sb").classList.add("biz");
}

// â”€â”€ í† ìŠ¤ SDK ë¡œë“œ (ë™ì , ì¤‘ë³µ ë°©ì§€) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// headì˜ ì •ì  script ëŒ€ì‹  í´ë¦­ ì‹œì ì— ë™ì ìœ¼ë¡œ ë¡œë“œ
// â†’ CSP, ìºì‹œ, íƒ€ì´ë° ë¬¸ì œë¥¼ ëª¨ë‘ ìš°íšŒ
var tossSDKLoaded = false;
function loadTossSDK() {
  return new Promise(function(resolve, reject) {
    // ì´ë¯¸ ë¡œë“œ ì™„ë£Œëœ ê²½ìš°
    if (typeof TossPayments === "function") {
      resolve();
      return;
    }
    // ì´ë¯¸ script íƒœê·¸ê°€ ìˆìœ¼ë©´ ë¡œë“œ ì™„ë£Œ ëŒ€ê¸°
    if (tossSDKLoaded) {
      var check = setInterval(function() {
        if (typeof TossPayments === "function") {
          clearInterval(check);
          resolve();
        }
      }, 100);
      setTimeout(function() {
        clearInterval(check);
        reject(new Error("SDK ë¡œë“œ íƒ€ì„ì•„ì›ƒ"));
      }, 10000);
      return;
    }
    tossSDKLoaded = true;
    var s = document.createElement("script");
    s.src = "https://js.tosspayments.com/v1/payment";
    s.onload = function() {
      if (typeof TossPayments === "function") {
        resolve();
      } else {
        reject(new Error("SDK ë¡œë“œëìœ¼ë‚˜ TossPayments í•¨ìˆ˜ ì—†ìŒ (URL í™•ì¸ í•„ìš”)"));
      }
    };
    s.onerror = function() {
      tossSDKLoaded = false;
      reject(new Error("ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜ - js.tosspayments.com ì ‘ê·¼ ì‹¤íŒ¨"));
    };
    document.head.appendChild(s);
  });
}

// â”€â”€ ê²°ì œ ì‹¤í–‰ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function go() {
  var ni = document.getElementById("nm");
  var ne = document.getElementById("nmerr");
  var cn = ni.value.trim();
  if (!cn) {
    ni.classList.add("err");
    ne.style.display = "block";
    ni.focus();
    return;
  }
  ni.classList.remove("err");
  ne.style.display = "none";

  var ce = document.getElementById("em").value.trim();
  var ek = ce || (cn.replace(/\s+/g, "") + "@staffmanager.io");

  var btn = document.getElementById("sb");
  btn.disabled = true;
  btn.textContent = "ê²°ì œ ëª¨ë“ˆ ë¡œë”© ì¤‘...";

  loadTossSDK().then(function() {
    btn.textContent = "ê²°ì œ í™”ë©´ìœ¼ë¡œ ì´ë™ ì¤‘...";
    var tp = TossPayments("test_ck_Z61JOxRQVEBzXa0b2m7grW0X9bAq");
    var ck = "cust_" + btoa(unescape(encodeURIComponent(ek)))
      .replace(/[^a-zA-Z0-9]/g, "").substring(0, 20);
    var base = window.location.origin;
    return tp.requestBillingAuth("ì¹´ë“œ", {
      customerKey: ck,
      customerName: cn,
      customerEmail: ek,
      successUrl: base + "/billing-success.html?plan=" + SP
        + "&customerKey=" + encodeURIComponent(ck)
        + "&customerName=" + encodeURIComponent(cn)
        + "&customerEmail=" + encodeURIComponent(ek),
      failUrl: base + "/billing-fail.html?plan=" + SP
    });
  }).catch(function(err) {
    if (err.code !== "USER_CANCEL") {
      alert("ì˜¤ë¥˜: " + (err.message || "ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜"));
    }
    btn.disabled = false;
    btn.textContent = "ì›” " + d.pt + " ì¹´ë“œ ë“±ë¡í•˜ê¸° ğŸš€";
  });
}

document.getElementById("nm").addEventListener("keydown", function(e) {
  if (e.key === "Enter") go();
});
document.getElementById("em").addEventListener("keydown", function(e) {
  if (e.key === "Enter") go();
});
</script>
</body>
</html>
